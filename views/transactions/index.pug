extends ../layouts/common
block content
  h1.text-center Transactions
  .container.align-content
    form(method="GET", action="/transactions/search").form-inline
      .form-group
        input(type="text", name="q", size="60", value= value).form-control
        |
        |
        button.btn.btn-info Search
    a(href="/transactions/create")
      button.btn.btn-success Add
    table.table.table-striped.table-responsive-sm
      thead
        tr
          th User
          th(colspan="5").text-center Detail
      tbody
      if transactions.length
        each transaction in transactions
          tr
            td
              b= transaction.user
            td
              span borrowed
            td
              b= transaction.book
            td
              span on
            td
              i= transaction.dateBorrow
            td
              a(id="status", href="/transactions/"+ transaction._id + "/complete")
                = (!transaction.isComplete ? "Not returned " : "Returned âœ”")
      else
        p No transaction!
    a(href="/books")
      button.btn.btn-default < Go to library